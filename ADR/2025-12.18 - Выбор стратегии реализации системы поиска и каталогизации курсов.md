**Дата:** 18 декабря 2025 г.

**Статус:** Принято

**Контекст:**

Пользователям нужен удобный поиск курсов в каталоге. Система должна:
- Быстро находить курсы по названию, описанию, тегам
- Показывать релевантные результаты
- Поддерживать фильтры (категория, уровень сложности, рейтинг)
- Работать быстро даже при большом количестве курсов
- Поддерживать русский и английский языки

**Рассмотренные варианты:**

1. **Поиск только через базу данных (MySQL)** – просто, но медленно при сложных запросах
2. **Elasticsearch** – быстро и мощно, но требует отдельного сервиса
3. **Algolia или другие SaaS-решения** – очень быстро, но платно и зависит от внешнего сервиса
4. **MySQL + кеширование популярных запросов** – компромисс между простотой и скоростью

**Решение:**

Выбран **вариант 2: Elasticsearch для поиска курсов**.

**Обоснование:**

- **Быстрый поиск** – Elasticsearch специально сделан для поиска, работает мгновенно. (Обеспечивает производительность PER02 для каталога)
- **Масштабируется** – выдерживает тысячи курсов и пользователей. (Соответствует SCA01-SCA04)
- **Поддержка русского языка** – есть русские анализаторы текста. (Обеспечивает L10N01)

**Технические детали:**

- **Что индексируем:**
  - Название курса
  - Описание курса
  - Теги и категории
  - Имя преподавателя
  - Отзывы (частично)

- **Как работает:**
  - При создании/изменении курса данные отправляются в Elasticsearch
  - Пользователь ищет курс – запрос идёт в Elasticsearch
  - Результаты показываются с релевантностью
  - Фильтры применяются прямо в Elasticsearch

- **Резервный вариант:**
  - Если Elasticsearch недоступен, временно используем поиск через MySQL
  - Показываем предупреждение о сниженной точности поиска

**Последствия:**

- Нужно установить и настроить Elasticsearch
- Придётся синхронизировать данные между MySQL и Elasticsearch
- Нужно следить за производительностью Elasticsearch
- Потребуется отдельный сервер или контейнер для Elasticsearch
- Нужно обучить команду работать с Elasticsearch
- Важно настроить резервное копирование индексов