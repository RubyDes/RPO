**Дата:** 18 декабря 2025 г.

**Статус:** Принято

**Контекст:**

Нужны инструменты для общения в системе:
- Форум для каждого курса
- Личные сообщения
- Уведомления о событиях
- Всё должно работать быстро и показывать новые сообщения сразу

**Рассмотренные варианты:**

1. **Простая перезагрузка страницы** – просто сделать, но нет мгновенных сообщений
2. **Сделать свой WebSocket-сервер** – полный контроль, но сложно обслуживать
3. **Взять готовый сервис (Firebase, Pusher)** – быстро работает, но зависит от других компаний
4. **Смешанный подход (Pusher + наши уведомления)** – баланс между скоростью и контролем

**Решение:**

Выбран **вариант 4: гибридный подход с использованием Pusher**.

**Обоснование:**

- **Сообщения приходят мгновенно** – Pusher даёт настоящий чат в реальном времени. (Обеспечивает хороший UX, соответствует ожиданиям мгновенной коммуникации)
- **Не нужно делать свой сервер** – Pusher сам масштабируется и обслуживается. (Соответствует PRN02, снижает операционные сложности, но требует проверки LIM05)
- **Можно сосредоточиться на логике** – не тратим время на настройку WebSocket. (Ускоряет разработку в рамках LIM03)
- **Гибкость** – важные уведомления можно дублировать через email/SMS. (Обеспечивает надежность доставки, DUR01-DUR05)

**Последствия:**

- Нужно подключить Pusher к нашей системе входа (Keycloak)
- Все сообщения нужно сохранять в нашей базе данных
- Придётся настроить модерацию для форумов
- Нужно следить за расходами на Pusher
- Важно проверить, хранит ли Pusher данные в России